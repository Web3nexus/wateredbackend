
   INFO  Running migrations.  

  2026_02_23_213235_drop_posts_table_and_cleanup_interactions ... 39.99ms FAIL

   Illuminate\Database\QueryException 

  SQLSTATE[HY000]: General error: 3730 Cannot drop table 'posts' referenced by a foreign key constraint 'comments_post_id_foreign' on table 'comments'. (Connection: mysql, Host: localhost, Port: 3306, Database: watered, SQL: drop table if exists `posts`)

  at vendor/laravel/framework/src/Illuminate/Database/Connection.php:838
    834▕             $exceptionType = $this->isUniqueConstraintError($e)
    835▕                 ? UniqueConstraintViolationException::class
    836▕                 : QueryException::class;
    837▕ 
  ➜ 838▕             throw new $exceptionType(
    839▕                 $this->getNameWithReadWriteType(),
    840▕                 $query,
    841▕                 $this->prepareBindings($bindings),
    842▕                 $e,

  1   vendor/laravel/framework/src/Illuminate/Database/Connection.php:584
      PDOException::("SQLSTATE[HY000]: General error: 3730 Cannot drop table 'posts' referenced by a foreign key constraint 'comments_post_id_foreign' on table 'comments'.")

  2   vendor/laravel/framework/src/Illuminate/Database/Connection.php:584
      PDOStatement::execute()

  3   vendor/laravel/framework/src/Illuminate/Database/Connection.php:827
      Illuminate\Database\Connection::{closure:Illuminate\Database\Connection::statement():573}("drop table if exists `posts`", [])

  4   vendor/laravel/framework/src/Illuminate/Database/Connection.php:794
      Illuminate\Database\Connection::runQueryCallback("drop table if exists `posts`", [], Object(Closure))

  5   vendor/laravel/framework/src/Illuminate/Database/Connection.php:573
      Illuminate\Database\Connection::run("drop table if exists `posts`", [], Object(Closure))

  6   vendor/laravel/framework/src/Illuminate/Database/Schema/Blueprint.php:121
      Illuminate\Database\Connection::statement("drop table if exists `posts`")

  7   vendor/laravel/framework/src/Illuminate/Database/Schema/Builder.php:686
      Illuminate\Database\Schema\Blueprint::build()

  8   vendor/laravel/framework/src/Illuminate/Database/Schema/Builder.php:534
      Illuminate\Database\Schema\Builder::build(Object(Illuminate\Database\Schema\Blueprint))

  9   vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php:363
      Illuminate\Database\Schema\Builder::dropIfExists("posts")

  10  database/migrations/2026_02_23_213235_drop_posts_table_and_cleanup_interactions.php:24
      Illuminate\Support\Facades\Facade::__callStatic("dropIfExists")

  11  vendor/laravel/framework/src/Illuminate/Database/Migrations/Migrator.php:517
      Illuminate\Database\Migrations\Migration@anonymous\/Users/vincent/Herd/Watered/wateredbackend/database/migrations/2026_02_23_213235_drop_posts_table_and_cleanup_interactions.php:8$187::up()

  12  vendor/laravel/framework/src/Illuminate/Database/Migrations/Migrator.php:442
      Illuminate\Database\Migrations\Migrator::runMethod(Object(Illuminate\Database\MySqlConnection), Object(Illuminate\Database\Migrations\Migration@anonymous\/Users/vincent/Herd/Watered/wateredbackend/database/migrations/2026_02_23_213235_drop_posts_table_and_cleanup_interactions.php:8$187), "up")

  13  vendor/laravel/framework/src/Illuminate/Database/Migrations/Migrator.php:451
      Illuminate\Database\Migrations\Migrator::{closure:Illuminate\Database\Migrations\Migrator::runMigration():438}()

  14  vendor/laravel/framework/src/Illuminate/Database/Migrations/Migrator.php:253
      Illuminate\Database\Migrations\Migrator::runMigration(Object(Illuminate\Database\Migrations\Migration@anonymous\/Users/vincent/Herd/Watered/wateredbackend/database/migrations/2026_02_23_213235_drop_posts_table_and_cleanup_interactions.php:8$187), "up")

  15  vendor/laravel/framework/src/Illuminate/Console/View/Components/Task.php:41
      Illuminate\Database\Migrations\Migrator::{closure:Illuminate\Database\Migrations\Migrator::runUp():253}()

  16  vendor/laravel/framework/src/Illuminate/Database/Migrations/Migrator.php:814
      Illuminate\Console\View\Components\Task::render("2026_02_23_213235_drop_posts_table_and_cleanup_interactions", Object(Closure))

  17  vendor/laravel/framework/src/Illuminate/Database/Migrations/Migrator.php:253
      Illuminate\Database\Migrations\Migrator::write("Illuminate\Console\View\Components\Task", "2026_02_23_213235_drop_posts_table_and_cleanup_interactions", Object(Closure))

  18  vendor/laravel/framework/src/Illuminate/Database/Migrations/Migrator.php:211
      Illuminate\Database\Migrations\Migrator::runUp("/Users/vincent/Herd/Watered/wateredbackend/database/migrations/2026_02_23_213235_drop_posts_table_and_cleanup_interactions.php")

  19  vendor/laravel/framework/src/Illuminate/Database/Migrations/Migrator.php:138
      Illuminate\Database\Migrations\Migrator::runPending([])

  20  vendor/laravel/framework/src/Illuminate/Database/Console/Migrations/MigrateCommand.php:116
      Illuminate\Database\Migrations\Migrator::run([])

  21  vendor/laravel/framework/src/Illuminate/Database/Migrations/Migrator.php:671
      Illuminate\Database\Console\Migrations\MigrateCommand::{closure:Illuminate\Database\Console\Migrations\MigrateCommand::runMigrations():109}()

  22  vendor/laravel/framework/src/Illuminate/Database/Console/Migrations/MigrateCommand.php:109
      Illuminate\Database\Migrations\Migrator::usingConnection(Object(Closure))

  23  vendor/laravel/framework/src/Illuminate/Database/Console/Migrations/MigrateCommand.php:88
      Illuminate\Database\Console\Migrations\MigrateCommand::runMigrations()

  24  vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php:36
      Illuminate\Database\Console\Migrations\MigrateCommand::handle()

  25  vendor/laravel/framework/src/Illuminate/Container/Util.php:43
      Illuminate\Container\BoundMethod::{closure:Illuminate\Container\BoundMethod::call():35}()

  26  vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php:96
      Illuminate\Container\Util::unwrapIfClosure(Object(Closure))

  27  vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php:35
      Illuminate\Container\BoundMethod::callBoundMethod(Object(Illuminate\Foundation\Application), Object(Closure))

  28  vendor/laravel/framework/src/Illuminate/Container/Container.php:799
      Illuminate\Container\BoundMethod::call(Object(Illuminate\Foundation\Application), [])

  29  vendor/laravel/framework/src/Illuminate/Console/Command.php:211
      Illuminate\Container\Container::call()

  30  vendor/symfony/console/Command/Command.php:341
      Illuminate\Console\Command::execute(Object(Symfony\Component\Console\Input\ArgvInput), Object(Illuminate\Console\OutputStyle))

  31  vendor/laravel/framework/src/Illuminate/Console/Command.php:180
      Symfony\Component\Console\Command\Command::run(Object(Symfony\Component\Console\Input\ArgvInput), Object(Illuminate\Console\OutputStyle))

  32  vendor/symfony/console/Application.php:1102
      Illuminate\Console\Command::run(Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))

  33  vendor/symfony/console/Application.php:356
      Symfony\Component\Console\Application::doRunCommand(Object(Illuminate\Database\Console\Migrations\MigrateCommand), Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))

  34  vendor/symfony/console/Application.php:195
      Symfony\Component\Console\Application::doRun(Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))

  35  vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php:198
      Symfony\Component\Console\Application::run(Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))

  36  vendor/laravel/framework/src/Illuminate/Foundation/Application.php:1235
      Illuminate\Foundation\Console\Kernel::handle(Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))

  37  artisan:16
      Illuminate\Foundation\Application::handleCommand(Object(Symfony\Component\Console\Input\ArgvInput))

